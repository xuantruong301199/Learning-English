<%- include('../dashboard/header') %>
		<%- include('../dashboard/sidebar') %>
		
<main class="content">
			<div class="container-fluid">
				<div class="content-header">
					<h1>Chức năng</h1>
					<nav aria-label="breadcrumb">
						<ol class="breadcrumb">
							<li class="breadcrumb-item"><a href="dashboard-1.html">Chức năng</a></li>
							<li class="breadcrumb-item active">Khóa học</li>
						</ol>
					</nav>
				</div>

				<div class="row">
					<div class="col-lg-6">
						<form class="box needs-validation" novalidate>
							<div class="box-header">
								<h3>Thêm Khóa học</h3>
							</div>
							<div class="box-body">
								<div class="form-group row">
									<label for="jsValidationLengthMin" class="form-label col-3">Tên Khóa học</label>
									<div class="col-9">
										<input id="name-course" type="text" class="form-control" autocomplete="off" placeholder='Khóa học ...'>
									</div>
								</div>
								<div class="form-group row">
									<label for="jsValidationLengthMax" class="form-label col-3">Giáo viên</label>
									<div class="col-9">
										<input id="name-teacher" type="text" class="form-control" placeholder='Nguyễn Văn A'>
									</div>
								</div>
							</div>
							<div class="box-footer">
								<button class="btn btn-primary pull-right btnAddCourse">Thêm</button>
							</div>
						</form>
					</div>
				</div>
			</div>
		</main>
<%- include('../dashboard/footer') %>

 <script>
       
    $(document).on('click', '.btnAddCourse', function(e) {
		e.preventDefault();
		
		// let courseID = $(this).attr('_courseID');

        let name        = $('#name-course').val().trim();
        // let teacher 	= $('#name-teacher').val().trim();

        // if(name.length < 1 || teacher.length < 1){
        if(name.length < 1 ){

            return toastr['error']('Tên bộ đề không được để trống', 'Thông báo');

        } else{
            $.ajax({
                url: `/course/insert-course`,  
                method: 'POST',
                data: { name },
                success: resp => {
					
                    console.log({ resp })
                    
                    if(!resp.error){

                        toastr['success']('Thêm thành công', 'Thông báo');
						setTimeout(function(){
							window.location.reload();
						}, 1000)

                    }else{

                        return toastr['error']('Thêm thất bại', 'Thông báo');
                    }
                },
                error: err => console.log({ err })
            });
        }
    })

 </script>